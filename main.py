import streamlit as st

# í•™ê³¼ë³„ ì´ëª¨ì§€ ë§¤í•‘ ì •ì˜
# ì—¬ê¸°ì— ë” ë§ì€ í•™ê³¼ì™€ ì–´ìš¸ë¦¬ëŠ” ì´ëª¨ì§€ë¥¼ ì¶”ê°€í•´ ë³´ì„¸ìš”!
major_emojis = {
    "ê²½ì˜í•™ê³¼": "ğŸ’¼", "ì»´í“¨í„°ê³µí•™ê³¼": "ğŸ’»", "íšŒê³„í•™ê³¼": "ğŸ’°",
    "ê°„í˜¸í•™ê³¼": "ğŸ‘©â€âš•ï¸", "ìœ ì•„êµìœ¡ê³¼": "ğŸ§¸", "ì‚¬íšŒë³µì§€í•™ê³¼": "ğŸ¤",
    "ì‹¬ë¦¬í•™ê³¼": "ğŸ§ ", "êµìœ¡í•™ê³¼": "ğŸ", "ë¬¸ì˜ˆì°½ì‘í•™ê³¼": "âœï¸",
    "ì¸ê³µì§€ëŠ¥í•™ê³¼": "ğŸ¤–", "í†µê³„í•™ê³¼": "ğŸ“Š", "ê¸°ê³„ê³µí•™ê³¼": "âš™ï¸",
    "ê±´ì¶•í•™ê³¼": "ğŸ—ï¸", "ì²´ìœ¡í•™ê³¼": "ğŸƒâ€â™‚ï¸", "ë¯¸ìˆ í•™ê³¼": "ğŸ¨",
    "ë””ìì¸í•™ê³¼": "ğŸ–Œï¸", "ìŒì•…í•™ê³¼": "ğŸ¶", "ì² í•™ê³¼": "ğŸ¤”",
    "ìˆ˜í•™ê³¼": "â•", "ë¬¼ë¦¬í•™ê³¼": "âš›ï¸", "ìŠ¤í¬ì¸ ê²½ì˜í•™ê³¼": "ğŸ†",
    "ë§ˆì¼€íŒ…í•™ê³¼": "ğŸ“ˆ", "ê²½ì°°í–‰ì •í•™ê³¼": "ğŸ‘®â€â™€ï¸", "ì—°ê·¹ì˜í™”í•™ê³¼": "ğŸ­",
    "ê´€ê´‘ê²½ì˜í•™ê³¼": "âœˆï¸", "ì‹¤ìš©ìŒì•…ê³¼": "ğŸ¤", "ê´‘ê³ í™ë³´í•™ê³¼": "ğŸ“£",
    "ìƒë‹´í•™ê³¼": "ğŸ—£ï¸", "ì°½ì—…í•™ê³¼": "ğŸ’¡", "ì‹ ë¬¸ë°©ì†¡í•™ê³¼": "ğŸ“º",
    "ë²•í•™ê³¼": "âš–ï¸", "í–‰ì •í•™ê³¼": "ğŸ›ï¸", "ì™¸êµí•™ê³¼": "ğŸŒ",
    "êµ­ì–´êµ­ë¬¸í•™ê³¼": "ğŸ“š", "ì˜ì–´ì˜ë¬¸í•™ê³¼": "ğŸ‡¬ğŸ‡§", "ì—­ì‚¬í•™ê³¼": "ğŸ“œ",
    "í™”í•™ê³¼": "ğŸ§ª", "ìƒëª…ê³¼í•™ê³¼": "ğŸ§¬", "ì§€êµ¬ê³¼í•™ê³¼": "ğŸŒ", # ê¹€í•˜ìœ¤ë‹˜ í™œë™ì— ë§ì¶° ì§€êµ¬ê³¼í•™ê³¼ ì¶”ê°€!
    "ë„ì‹œê³µí•™ê³¼": "ğŸ™ï¸", "ì¡°ê²½í•™ê³¼": "ğŸŒ³"
}

# MBTI ìœ í˜•ë³„ ì¶”ì²œ í•™ê³¼ ì •ì˜ (ì˜ˆì‹œ)
# ì´ ë¶€ë¶„ì€ ê¹€í•˜ìœ¤ë‹˜ì´ ìƒê°í•˜ëŠ” MBTIì™€ í•™ê³¼ì˜ ì—°ê´€ì„±ì— ë”°ë¼ ììœ ë¡­ê²Œ ìˆ˜ì •í•˜ê³  ì¶”ê°€í•´ ë³´ì„¸ìš”!
mbti_major_recommendations = {
    "ISTJ": "ê²½ì˜í•™ê³¼, ì»´í“¨í„°ê³µí•™ê³¼, íšŒê³„í•™ê³¼ (ì‹¤ìš©ì ì´ê³  ì²´ê³„ì ì¸ ë¶„ì•¼)",
    "ISFJ": "ê°„í˜¸í•™ê³¼, ìœ ì•„êµìœ¡ê³¼, ì‚¬íšŒë³µì§€í•™ê³¼ (íƒ€ì¸ì„ ë•ê³  ëŒë³´ëŠ” ë¶„ì•¼)",
    "INFJ": "ì‹¬ë¦¬í•™ê³¼, êµìœ¡í•™ê³¼, ë¬¸ì˜ˆì°½ì‘í•™ê³¼ (í†µì°°ë ¥ê³¼ ì‚¬ëŒ ì´í•´)",
    "INTJ": "ì»´í“¨í„°ê³µí•™ê³¼, ì¸ê³µì§€ëŠ¥í•™ê³¼, í†µê³„í•™ê³¼ (ì „ëµì ì´ê³  ë¶„ì„ì ì¸ ë¶„ì•¼)",
    "ISTP": "ê¸°ê³„ê³µí•™ê³¼, ê±´ì¶•í•™ê³¼, ì²´ìœ¡í•™ê³¼ (ì‹¤ìš©ì ì´ê³  í™œë™ì ì¸ ë¶„ì•¼)",
    "ISFP": "ë¯¸ìˆ í•™ê³¼, ë””ìì¸í•™ê³¼, ìŒì•…í•™ê³¼ (ì˜ˆìˆ ì ì´ê³  ììœ ë¡œìš´ ë¶„ì•¼)",
    "INFP": "ë¬¸ì˜ˆì°½ì‘í•™ê³¼, ì² í•™ê³¼, ì‹¬ë¦¬í•™ê³¼ (ì´ìƒì ì´ê³  ì°½ì˜ì ì¸ ë¶„ì•¼)",
    "INTP": "ìˆ˜í•™ê³¼, ë¬¼ë¦¬í•™ê³¼, ì»´í“¨í„°ê³µí•™ê³¼ (ë…¼ë¦¬ì ì´ê³  ì´ë¡ ì ì¸ ë¶„ì•¼)",
    "ESTP": "ìŠ¤í¬ì¸ ê²½ì˜í•™ê³¼, ë§ˆì¼€íŒ…í•™ê³¼, ê²½ì°°í–‰ì •í•™ê³¼ (í™œë™ì ì´ê³  í˜„ì‹¤ì ì¸ ë¶„ì•¼)",
    "ESFP": "ì—°ê·¹ì˜í™”í•™ê³¼, ê´€ê´‘ê²½ì˜í•™ê³¼, ì‹¤ìš©ìŒì•…ê³¼ (ì‚¬êµì ì´ê³  ê²½í—˜ì„ ì¤‘ì‹œí•˜ëŠ” ë¶„ì•¼)",
    "ENFP": "ê´‘ê³ í™ë³´í•™ê³¼, ì‹¬ë¦¬í•™ê³¼, ìƒë‹´í•™ê³¼ (ì—´ì •ì ì´ê³  ê´€ê³„ ì§€í–¥ì ì¸ ë¶„ì•¼)",
    "ENTP": "ì°½ì—…í•™ê³¼, ì‹ ë¬¸ë°©ì†¡í•™ê³¼, ê²½ì˜í•™ê³¼ (ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë¥¼ íƒêµ¬í•˜ëŠ” ë¶„ì•¼)",
    "ESTJ": "ê²½ì˜í•™ê³¼, ë²•í•™ê³¼, í–‰ì •í•™ê³¼ (ì²´ê³„ì ì´ê³  ë¦¬ë”ì‹­ì´ ìš”êµ¬ë˜ëŠ” ë¶„ì•¼)",
    "ESFJ": "ìœ ì•„êµìœ¡ê³¼, ê°„í˜¸í•™ê³¼, ì‚¬íšŒë³µì§€í•™ê³¼ (ì‚¬ëŒë“¤ê³¼ í•¨ê»˜í•˜ê³  í˜‘ë ¥í•˜ëŠ” ë¶„ì•¼)",
    "ENFJ": "êµìœ¡í•™ê³¼, ì™¸êµí•™ê³¼, ìƒë‹´í•™ê³¼ (íƒ€ì¸ì˜ ì„±ì¥ì„ ë•ê³  ì´ë„ëŠ” ë¶„ì•¼)",
    "ENTJ": "ê²½ì˜í•™ê³¼, ì •ì¹˜ì™¸êµí•™ê³¼, ë²•í•™ê³¼ (ì „ëµì ì´ê³  ë¦¬ë”ì‹­ì„ ë°œíœ˜í•˜ëŠ” ë¶„ì•¼)"
}

st.set_page_config(
    page_title="ê¹€í•˜ìœ¤ë‹˜ì˜ MBTI í•™ê³¼ ì¶”ì²œ ì•±",
    page_icon="ğŸ“"
)

st.title("ğŸ“ ë‚˜ì˜ MBTIëŠ” ì–´ë–¤ í•™ê³¼ì™€ ì–´ìš¸ë¦´ê¹Œ?")
st.write("ë‚˜ì˜ MBTI ìœ í˜•ì„ ì„ íƒí•˜ë©´, ì–´ìš¸ë¦¬ëŠ” í•™ê³¼ë¥¼ ì¶”ì²œí•´ ë“œë¦´ê²Œìš”!")
st.write("â— **ì´ ì¶”ì²œì€ ì°¸ê³ ìš©ì´ë©°, ê°œì¸ì˜ ì ì„±ê³¼ í¥ë¯¸ê°€ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤!**")

# MBTI ìœ í˜• ì„ íƒ
selected_mbti = st.selectbox(
    "ë‹¹ì‹ ì˜ MBTI ìœ í˜•ì€ ë¬´ì—‡ì¸ê°€ìš”?",
    list(mbti_major_recommendations.keys()),
    index=None, # ì´ˆê¸° ì„ íƒ ì—†ìŒ
    placeholder="MBTI ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”"
)

if selected_mbti:
    full_recommendation_string = mbti_major_recommendations[selected_mbti]
    
    # ì¶”ì²œ ë¬¸ìì—´ì„ í•™ê³¼ ë¦¬ìŠ¤íŠ¸ ë¶€ë¶„ê³¼ ì„¤ëª… ë¶€ë¶„ìœ¼ë¡œ ë¶„ë¦¬
    parts = full_recommendation_string.split('(')
    major_list_string = parts[0].strip() # ì˜ˆ: "ê²½ì˜í•™ê³¼, ì»´í“¨í„°ê³µí•™ê³¼, íšŒê³„í•™ê³¼"
    description_part = f"({parts[1]}" if len(parts) > 1 else "" # ì˜ˆ: "(ì‹¤ìš©ì ì´ê³  ì²´ê³„ì ì¸ ë¶„ì•¼)"

    # ê°œë³„ í•™ê³¼ ì´ë¦„ ì¶”ì¶œ ë° ì´ëª¨ì§€ ì¶”ê°€
    individual_majors = [m.strip() for m in major_list_string.split(',')]
    
    formatted_majors_with_emojis = []
    for major in individual_majors:
        emoji = major_emojis.get(major, "â“") # major_emojisì— ì—†ëŠ” í•™ê³¼ëŠ” '?'ë¡œ í‘œì‹œ
        formatted_majors_with_emojis.append(f"{emoji} {major}")
    
    # ì´ëª¨ì§€ê°€ ì¶”ê°€ëœ í•™ê³¼ ë¦¬ìŠ¤íŠ¸ë¥¼ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ ê²°í•©
    display_string = ", ".join(formatted_majors_with_emojis)
    
    st.markdown(f"### ğŸ‰ {selected_mbti} ìœ í˜•ì—ê²Œ ì¶”ì²œí•˜ëŠ” í•™ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:")
    st.info(f"**{display_string.strip()}**")
    
    # ì„¤ëª… ë¶€ë¶„ì€ ë”°ë¡œ í‘œì‹œ
    if description_part:
        st.markdown(f"---")
        # ê´„í˜¸ë¥¼ ì œê±°í•˜ê³  ì„¤ëª…ë§Œ í‘œì‹œ
        clean_description = description_part.strip('() ')
        st.write(f"ğŸ¤” **{selected_mbti}** ìœ í˜•ì€ ì£¼ë¡œ **{clean_description}** íŠ¹ì„±ì„ ê°€ì§‘ë‹ˆë‹¤.")
    
    st.success("ğŸ˜Š ì§„ë¡œ íƒìƒ‰ì€ í¥ë¯¸ë¡œìš´ ì—¬ì •ì´ì—ìš”! ìì‹ ì˜ ê°•ì ê³¼ ê´€ì‹¬ì‚¬ë¥¼ ì°¾ì•„ë³´ì„¸ìš”.")

st.markdown("---")
st.caption("ê¶ê¸ˆí•œ ì ì´ ìˆë‹¤ë©´ ì–¸ì œë“ ì§€ ë¬¼ì–´ë³´ì„¸ìš”! ğŸ˜„")

